# ü§ñ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ –±–æ—Ç–∞

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò

### 1. **–£—Å–ø–µ—à–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- ‚úÖ –í—Å–µ unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ (3/3)
- ‚úÖ –î–µ–º–æ-–≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–ª—É–±–∏–Ω—ã —Å—Ç–∞–∫–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫ Prometheus –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
- üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `process_depth()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞–∫–∞–Ω–∞
- üîß –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `calculate_total_depth()` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ–±—â–µ–π –≥–ª—É–±–∏–Ω—ã
- üîß –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã**
```
üé≠ –î–ï–ú–û-–í–ï–†–°–ò–Ø –ê–†–ë–ò–¢–†–ê–ñ–ù–û–ì–û –ë–û–¢–ê
==================================================
–≠—Ç–æ—Ç –±–æ—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É –∞—Ä–±–∏—Ç—Ä–∞–∂–∞ —Å –º–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–∫–ª–æ–≤: 3
–ò–Ω—Ç–µ—Ä–≤–∞–ª: 3 —Å–µ–∫

üîÑ –¶–ò–ö–õ #1
==============================
üìä –ê–ù–ê–õ–ò–ó –ì–õ–£–ë–ò–ù–´ –°–¢–ê–ö–ê–ù–ê
==================================================
üîµ Polymarket:
   –õ—É—á—à–∏–µ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏:
     1. $0.6501 - 883 —à—Ç
     2. $0.6360 - 1237 —à—Ç
     3. $0.6218 - 2115 —à—Ç
   –õ—É—á—à–∏–µ —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏:
     1. $0.6503 - 721 —à—Ç
     2. $0.6710 - 1094 —à—Ç
     3. $0.6798 - 1648 —à—Ç

üü° SX:
   –õ—É—á—à–∏–µ —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏:
     1. $0.6581 - 722 —à—Ç
     2. $0.6545 - 1157 —à—Ç
     3. $0.6280 - 1799 —à—Ç
   –õ—É—á—à–∏–µ —Ü–µ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏:
     1. $0.6633 - 748 —à—Ç
     2. $0.6786 - 1135 —à—Ç
     3. $0.6934 - 1700 —à—Ç

üìà –°–ø—Ä–µ–¥—ã:
   Polymarket: 0.0002 (0.02%)
   SX: 0.0052 (0.52%)

‚öôÔ∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
2025-07-19 21:38:30,279 - INFO - Depth PM 17758.00 SX 16809.00 -> max_slip 0.0010
‚úÖ –¶–∏–∫–ª #1 –∑–∞–≤–µ—Ä—à–µ–Ω
```

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ë–û–¢–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **`main.py`** - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞
2. **`config.py`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –ø–æ –≥–ª—É–±–∏–Ω–µ
3. **`core/processor.py`** - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–ª—É–±–∏–Ω—ã —Å—Ç–∞–∫–∞–Ω–∞ ‚úÖ
4. **`core/matcher.py`** - –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä—ã–Ω–∫–æ–≤ ‚úÖ
5. **`core/metrics.py`** - –ú–µ—Ç—Ä–∏–∫–∏ Prometheus ‚úÖ
6. **`core/alerts.py`** - Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚úÖ
7. **`connectors/polymarket.py`** - API Polymarket ‚úÖ
8. **`connectors/sx.py`** - API SX ‚úÖ
9. **`utils/retry.py`** - –ú–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ ‚úÖ

## üìä –õ–û–ì–ò–ö–ê –†–ê–ë–û–¢–´

### –ê–ª–≥–æ—Ä–∏—Ç–º –∞—Ä–±–∏—Ç—Ä–∞–∂–∞:
1. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –ó–∞–ø—Ä–æ—Å –≥–ª—É–±–∏–Ω—ã —Å—Ç–∞–∫–∞–Ω–∞ —Å –æ–±–µ–∏—Ö –±–∏—Ä–∂
2. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥–ª—É–±–∏–Ω—ã** - –°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ –≤ —Å—Ç–∞–∫–∞–Ω–µ
3. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è** - –í—ã–±–æ—Ä –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≥–ª—É–±–∏–Ω—ã
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ó–∞–ø–∏—Å—å –º–µ—Ç—Ä–∏–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è:
```python
SLIP_BY_DEPTH = {
    20000: 0.0005,  # –ì–ª—É–±–∏–Ω–∞ ‚â• 20000: –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ 0.05%
    10000: 0.0010,  # –ì–ª—É–±–∏–Ω–∞ ‚â• 10000: –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ 0.10%
    5000: 0.0020,   # –ì–ª—É–±–∏–Ω–∞ ‚â• 5000: –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ 0.20%
    1000: 0.0050,   # –ì–ª—É–±–∏–Ω–∞ ‚â• 1000: –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ 0.50%
}
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### Unit-—Ç–µ—Å—Ç—ã:
- ‚úÖ `test_processor.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- ‚úÖ `test_matcher.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä—ã–Ω–∫–æ–≤
- ‚úÖ `test_retry.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

### –î–µ–º–æ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–∫–∞–Ω–∞
- ‚úÖ –°–∏–º—É–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ API
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üöÄ –ó–ê–ü–£–°–ö –ë–û–¢–ê

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:
1. **–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º**: `python demo_bot.py --cycles 3 --interval 3`
2. **–†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º**: `python main_improved.py --test`
3. **–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞**: `python main_improved.py --interval 30`

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.8+
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ API –∫–ª—é—á–∏ –¥–ª—è –±–∏—Ä–∂
- Telegram Bot Token –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üìà –ú–ï–¢–†–ò–ö–ò –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì

### Prometheus –º–µ—Ç—Ä–∏–∫–∏:
- `g_edge` - –°—á–µ—Ç—á–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
- `g_trades` - –°—á–µ—Ç—á–∏–∫ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –£—Ä–æ–≤–µ–Ω—å: INFO
- –§–æ—Ä–º–∞—Ç: `%(asctime)s - %(levelname)s - %(message)s`
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π

## üéØ –í–´–í–û–î–´

### ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–±–æ—Ç–µ:
- **–õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- **–ú–µ—Ç—Ä–∏–∫–∏**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –†–∞–±–æ—Ç–∞—é—Ç
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–π–¥–µ–Ω–æ

### üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ API –∫–ª—é—á–∏ –¥–ª—è –±–∏—Ä–∂
2. –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ ID —Ä—ã–Ω–∫–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram Bot Token
4. –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Prometheus
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
6. –î–æ–±–∞–≤–∏—Ç—å health checks

### üöÄ –°—Ç–∞—Ç—É—Å: **–ì–û–¢–û–í –ö –ó–ê–ü–£–°–ö–£**

–ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∫–ª—é—á–µ–π –∏ ID —Ä—ã–Ω–∫–æ–≤.