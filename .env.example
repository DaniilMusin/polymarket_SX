# Copy this file to .env and replace placeholders with your secrets
# CRITICAL: Never commit the actual .env file with real keys!

# ===== ETHEREUM WALLET =====
# Your Ethereum private key (with or without 0x prefix)
# This is used for signing orders on Polymarket (Polygon network)
PRIVATE_KEY=<YOUR-PRIVATE-KEY-HERE>

# ===== EXCHANGE API KEYS =====
# Optional - Some exchanges work with wallet signing only
POLYMARKET_API_KEY=<YOUR-POLYMARKET-API-KEY>
SX_API_KEY=<YOUR-SX-API-KEY>
KALSHI_API_KEY=<YOUR-KALSHI-API-KEY>

# ===== ALERT SYSTEM =====
# File-based logging for critical alerts
ALERT_LOG_PATH=logs/alerts.log
ALERT_LOG_MAX_BYTES=10485760  # 10MB
ALERT_LOG_BACKUP_COUNT=5

# ===== API CONFIGURATION =====
# Timeout settings (seconds)
API_TIMEOUT_TOTAL=30.0
API_TIMEOUT_CONNECT=10.0

# API Endpoints (optional - defaults are usually fine)
# POLYMARKET_API_URL=https://clob.polymarket.com
# SX_API_URL=https://api.sx.bet
# KALSHI_API_URL=https://trading-api.kalshi.com/trade-api/v2

# ===== EVENT VALIDATION (CRITICAL FOR PRODUCTION) =====
# Perplexity API key for validating events across exchanges
# This prevents arbitraging between DIFFERENT events (which causes losses!)
# Get your key at: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=<YOUR-PERPLEXITY-API-KEY>

# Event matching confidence (0-1). If below, trigger LLM validation.
EVENT_MATCH_CONFIDENCE=0.90
# Minimum LLM confidence required to accept a match (low/medium/high)
EVENT_LLM_CONFIDENCE=medium

# ===== AUTO-MATCH PIPELINE =====
# Enable automatic event matching and trading pipeline
AUTO_MATCH_ENABLED=false

# Polymarket fetch settings
AUTO_MATCH_PM_LIMIT=50
AUTO_MATCH_PM_MIN_LIQUIDITY=1000

# SX markets source (manual export file)
AUTO_MATCH_SX_FILE=sx_markets.json

# Candidate filtering
AUTO_MATCH_MAX_PAIRS=50
AUTO_MATCH_TARGET_TRADES=3
AUTO_MATCH_MAX_LLM_VALIDATIONS=3
AUTO_MATCH_MIN_CONFIDENCE=0.4

# Kalshi integration (requires KALSHI_API_KEY)
AUTO_MATCH_INCLUDE_KALSHI=false
AUTO_MATCH_KALSHI_LIMIT=50
AUTO_MATCH_KALSHI_MIN_VOLUME=0

# Budget settings
# AUTO_MATCH_TOTAL_BUDGET=0 uses the min available balance across exchanges
AUTO_MATCH_BUDGET_FRACTION=0.5
AUTO_MATCH_TOTAL_BUDGET=0

# DANGEROUS: Allow trading without event validation
# Only set to 'true' if you're 100% sure events are identical
# NOT RECOMMENDED for production
# ALLOW_UNVALIDATED_EVENTS=false

# ===== TRADING PARAMETERS =====
# IMPORTANT: Defaults are CONSERVATIVE for initial testing
# Increase these ONLY after successful test runs with small amounts

# Minimum profit threshold in basis points (1 bps = 0.01%)
# Default: 50 bps (0.5%) - Conservative for safety
# Production range: 30-100 bps depending on market
MIN_PROFIT_BPS=50.0

# Maximum position size in USD per trade
# Default: $10 - Safe for initial testing
# Increase gradually: $10 → $50 → $100 → $500
MAX_POSITION_SIZE=10.0

# Maximum % of market depth to use (0.1 = 10%)
MAX_POSITION_PERCENT=0.1

# ===== EXCHANGE FEES =====
# Per-order fees (taker fee per leg)
POLYMARKET_FEE=0.002  # 0.2% per order
SX_FEE=0.002          # 0.2% per order
KALSHI_FEE=0.003      # 0.3% per order
DEFAULT_FEE=0.002
# Kalshi collateral multiplier for per-contract cost (1.0 = no buffer)
KALSHI_CONTRACT_COLLATERAL=1.0
# Kalshi contract side (yes/no) when trading Kalshi
# Note: current pipeline assumes YES outcome across exchanges
KALSHI_CONTRACT_SIDE=yes

# ===== RISK MANAGEMENT =====
# Maximum exposure per market (in USD)
# Default: $50 - Limits risk to single market
MAX_MARKET_EXPOSURE=50.0

# Maximum exposure per exchange (in USD)
# Default: $100 - Limits risk to single exchange
MAX_EXCHANGE_EXPOSURE=100.0

# Maximum concurrent arbitrage positions
# Default: 1 - Only one position at a time (safest)
# Increase to 2-3 only after testing
MAX_OPEN_ARBITRAGES=1

# Trigger panic mode on partial fills
# Recommended: true (safer - stops bot on unhedged positions)
PANIC_TRIGGER_ON_PARTIAL=true

# ===== EXCHANGE BALANCE LIMITS =====
# Virtual balance limits for each exchange (in USD)
# The bot will only use up to this amount for safety
# Even if real balance is higher, bot respects these limits

# Default balance for all exchanges (if individual balances not set)
# Default: $10 - Conservative for testing
# Increase after successful tests: $10 → $50 → $100
EXCHANGE_INITIAL_BALANCE=10.0

# Individual exchange balances (optional, overrides EXCHANGE_INITIAL_BALANCE)
# POLYMARKET_BALANCE=10.0
# SX_BALANCE=10.0
# KALSHI_BALANCE=10.0

# ===== RETRY CONFIGURATION =====
RETRY_ATTEMPTS=3
RETRY_DELAY=1.0

# ===== ALERT CHANNELS (RECOMMENDED FOR PRODUCTION) =====
# Telegram bot for alerts
# See: scripts/setup_telegram_bot.py
# TELEGRAM_BOT_TOKEN=<YOUR-BOT-TOKEN>
# TELEGRAM_CHAT_ID=<YOUR-CHAT-ID>

# Discord webhook for alerts
# See: scripts/setup_discord_webhook.py
# DISCORD_WEBHOOK_URL=<YOUR-WEBHOOK-URL>

# ===== PRODUCTION SETTINGS =====
# Enable real trading (set to 'true' to enable)
# CRITICAL: Only enable after:
#   1. Running python scripts/preflight_check.py successfully
#   2. Testing with ENABLE_REAL_TRADING=false
#   3. Validating events with scripts/validate_events.py
#   4. Setting up alerts (Telegram/Discord)
#   5. Setting PERPLEXITY_API_KEY for event validation
ENABLE_REAL_TRADING=false
